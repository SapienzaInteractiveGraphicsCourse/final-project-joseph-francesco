<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>IG Project</title>
		<style>
			body { margin: 0; }
			canvas { display: block; }
		</style>
	</head>
	<body>
		<script src="js/tween.umd.js"></script>
		<script type="module">

			import * as THREE from 'https://unpkg.com/three@0.119.1/build/three.module.js';
			import { GLTFLoader } from 'https://unpkg.com/three@0.119.1/examples/jsm/loaders/GLTFLoader.js';
			import { OrbitControls } from 'https://unpkg.com/three@0.119.1/examples/jsm/controls/OrbitControls.js';
			import Yoshi from '/js/models/yoshi.js'
			import Coin from '/js/models/Coin.js'
			import Egg from '/js/models/Egg.js'
			import Mashroom from '/js/models/Mashroom.js'
			import Star from '/js/models/Star.js'

			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
			camera.position.z = -50;
			var renderer = new THREE.WebGLRenderer();
			renderer.setClearColor(0x404040, 1);
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.body.appendChild(renderer.domElement);
			
			var light = new THREE.AmbientLight(0x2f2f1f , 2);
			scene.add(light);

			var directionalLight = new THREE.DirectionalLight(0xffffff, 1);
			directionalLight.position.set(0, 1, 0)
			scene.add(directionalLight);

			var orbit = new OrbitControls(camera, renderer.domElement);
			orbit.enableZoom = false;

			var yoshi = new Yoshi();
			yoshi.load().then((model) => {
				scene.add(model);
			});

			//var coin = new Coin(scene)
			//var egg = new Egg(scene)
			//var mushroom = new Mashroom(scene)
			//var star = new Star(scene)

			document.addEventListener("keydown", (event) => {
				console.log(event.keyCode)
				switch (event.keyCode) {
					case 67: // key 'C'
						//coin.catch()
						//egg.catch()
						//mushroom.catch()
						//star.catch()
						break

					default:
						break
				}
			}, false)

			animate();

			function animate() {
				requestAnimationFrame(animate);
				TWEEN.update();
				renderer.render(scene, camera);
			}
			
		</script>
	</body>
</html>