<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>IG Project</title>
		<style>
			body { margin: 0; }
			canvas { display: block; }
		</style>
	</head>
	<body>
		
		<script type="module">

			import * as THREE from 'https://unpkg.com/three@0.119.1/build/three.module.js';
			import { GLTFLoader } from 'https://unpkg.com/three@0.119.1/examples/jsm/loaders/GLTFLoader.js';
			import { OrbitControls } from 'https://unpkg.com/three@0.119.1/examples/jsm/controls/OrbitControls.js';

			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
			var renderer = new THREE.WebGLRenderer();
			renderer.setClearColor( 0x404040, 1 );
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );
			
			var light = new THREE.AmbientLight( 0x2f2f1f , 2 );
			scene.add( light );

			var directionalLight = new THREE.DirectionalLight( 0xffffff, 1 );
			directionalLight.position.set(0,1,0)
			scene.add( directionalLight );

			var orbit = new OrbitControls( camera, renderer.domElement );
			orbit.enableZoom = false;
			
			var yoshi;
			var loader = new GLTFLoader();
			loader.load( 'models/yoshi/scene.gltf', function ( object ) {
				yoshi = object.scene;
				yoshi.position.y = -15;
				yoshi.rotation.y += 180
				console.log( yoshi );
				scene.add( yoshi );
				animate();
			}, undefined, function ( error ) {
				console.error( error );
			} );

			camera.position.z = -50;

			function animate() {
				requestAnimationFrame( animate );
				//yoshi.children[0].children[0].children[0].children[0].children[0].children[0].children[45].skeleton.bones[54].rotation.x += 0.01
				//yoshi.rotation.y += 0.01;
				renderer.render( scene, camera );
			}
			
		</script>
	</body>
</html>